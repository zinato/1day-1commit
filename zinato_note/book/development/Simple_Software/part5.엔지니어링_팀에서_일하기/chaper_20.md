### CHAPTER 20. 소프트웨어 회사에서 코드 복잡성을 다루는 법 

- 코드 복잡성을 해결하려면 한 사람 수준의 섬세한 작업이 요구된다. 
- 관리자가 "코드를 단순하게 만들어라!" 라고 말하는 것만으로는 아무 변화도 일어나지 않는다. 

```
    - 관리자의 지시가 구체적이지 않다.
    - 코드의 각 부분에 대해 구체적인 지시를 내릴 정도의 지식이 관리자에게 없을 수 있다.
    - 문제를 해결하는 과정에서 문제에 대한 이해가 더 깊어지는 측면도 있다. 하지만 관리자는 문제를 직접 해결하지 않는다.
```

- 이럴때 관리자는 무슨 일을 할 수 있을까?
- 각 팀원에게 데이터를 받아서 그들이 각자 문제를 해결할 수 있게 도와주면 된다. 

#### 1단계 : 문제 목록

- 각 팀원에게 코드에서 가장 답답하다고 느끼는 부분을 목록으로 정리하게 한다.
    - 짜증이나 분노 유발, 헷갈리는 부분, 손만 대도 전체를 망가뜨릴 것 같은 부분, 최적화가 필요하다고 생각되는 부분들이 이런 부분들이다.
- 각 소프트웨어 엔지니어가 각자의 목록을 만들어야 한다. 

#### 2단계 : 회의 

- 회의 규모는 6~7명 정도가 적당
- 각자의 목록을 가져옴, 코드 베이스에 접속할 수 있는 컴퓨터 한대.
- 회의에서는 목록을 확인하고 각 증상과 연관 있는 디렉터리, 파일, 클래스, 메서드, 코드 블록의 이름을 알아낸다. 
- 단위 테스트가 해결책이 될 수 있지만 우선 문제가 어디에 있는지 최대한 정확하게 알아내야 한다. 
- 단위 테스트는 거의 모든 코드에 하는게 좋다. 하지만 단위 테스트가 하나도 없다면 일단 해당 주제와 관련된 부분 중
할 수 있는 작업부터 하자.
  
#### 3단계 : 버그 리포트 

- 회의에서 수집한 정보를 바탕으로 업급된 디렉터리, 파일, 클래스 등에 대해 문제를 묘사하는 버그 리포트를 작성한다.(해결책 말고 문제!)
- ** 버그 리포트의 주인공은 해결책이 아니라 문제라는걸 잊지마라. **

#### 4단계 : 우선순위 선정 

- 우선 어떤 문제가 개발자들을 제일 많이 괴롭히는지 알아내라.
- 문제끼리 서로 연관이 있는 경우가 있기 때문에 그런 고리의 시작점을 찾아내는게 핵심이다. 
> 어떤 상황에서든 올바른 순서로 올바른 조치를 취하는 것이 좋은 소프트웨어 설계의 핵심이다

> 문제의 바탕에 어떤 문제가 도사리고 있는지 전혀 고려하지 않은 채 이러한 순서를 어기고 특정 문제를 해결하라고 개발자에게 강요하는건 코드 복잡성을 일으키는 원인이 된다.

- 개발 전에 하든 개발 중에 하든 특정 작업에 들어가기 전에 먼저 해결해야 하는 근복적인 문제가 있을 수 있다는걸 
각 프로그래머가 알고 있는게 중요하다. 
- 각 프로그래머에게는 진행 중인 작업을 방해하는 부분을 발견했을 때 문제가 되는 부분부터 해결할 권한도 반드시 주어야 한다. 
- 가장 밑바닥에 도사리고 있는 문제가 무엇인지 찾는건 이러한 문제 해결 과정에서 중요한 부분이다. 

#### 5단계 : 과제

- 각 작업자에게 버그를 할당한다.
- 다른 팀이 담당하는 코드가 버그에 포함되는 경우라면 문제 해결 책임을 분담해야 할 팀을 찾아 적절히 협업해야 한다.

#### 6댠계 : 계획

- 모든 버그를 정리한 후에는 그 문제를 언제 고칠지 정해야 한다.
- 6주에 한번, 분기마다 한 번 정도로 정기 업무 계획을 세우는 팀이라면 계획을 세울 때 마다 코드 정리 작업을 포함시키자.
- 일반 개발 업무를 중단하고 코드 품질 개선 작업만 하지마라. 대신 일정 수준의 코드 품질 개선 작업을 꾸준히 수행하여 코드베이스의 품질이 
나빠지지 않고 전체적으로 꾸준히 개선되게 하라.
